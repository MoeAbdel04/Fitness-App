# Fit Fusion Data Dictionary

This document describes the database schema for the Fit Fusion application.

---

## Table: `User`

| Column Name         | Data Type    | Constraints                             | Description                                                                          |
|---------------------|--------------|-----------------------------------------|--------------------------------------------------------------------------------------|
| `id`                | Integer      | Primary Key, Auto-increment             | Unique identifier for each user.                                                     |
| `username`          | String(80)   | Unique, Not Null                        | Display name chosen by the user.                                                     |
| `email`             | String(120)  | Unique, Not Null                        | User’s email address (used for authentication).                                      |
| `password`          | String(256)  | Not Null                                | PBKDF2–SHA256 hashed password.                                                       |
| `age`               | Integer      | Not Null                                | User’s age in years.                                                                 |
| `gender`            | String(10)   | Not Null                                | “male” or “female” (affects BMR calculation).                                        |
| `height`            | Float        | Not Null                                | Height in meters (converted to/from feet & inches in the UI).                       |
| `weight`            | Float        | Not Null                                | Weight in kilograms (converted to/from pounds in the UI).                            |
| `activity_level`    | String(20)   | Not Null                                | One of: `sedentary`, `light`, `moderate`, `active`, `very_active`.                   |
| `workout_preference`| String(20)   | Nullable                                | E.g. `cardio`, `weight_training`, `strength_training`.                               |
| `goal`              | String(50)   | Nullable                                | User’s stated fitness goal (e.g., “Lose weight”, “Build muscle”).                    |

---

## Table: `WorkoutLog`

| Column Name    | Data Type   | Constraints                      | Description                                                  |
|----------------|-------------|----------------------------------|--------------------------------------------------------------|
| `id`           | Integer     | Primary Key, Auto-increment      | Unique identifier for each workout entry.                    |
| `user_id`      | Integer     | Foreign Key → `User.id`, Not Null| References the user who logged this workout.                 |
| `workout_type` | String(50)  | Not Null                         | Category, e.g. “Cardio”, “Weight Training”, “Strength Training”. |
| `exercise`     | String(100) | Not Null                         | Name of the exercise (e.g. “Squat”, “Bench Press”).          |
| `sets`         | Integer     | Not Null                         | Number of sets performed.                                    |
| `reps`         | Integer     | Not Null                         | Number of repetitions per set.                               |
| `weight`       | Float       | Nullable                         | Weight used in kilograms (converted from pounds in the UI).  |
| `date`         | DateTime    | Default = UTC now                | Timestamp for when this workout was logged.                  |

---

## Table: `WorkoutPlan`

> **Note**: Only present if you’ve implemented the “save workout plan” feature.

| Column Name    | Data Type   | Constraints                               | Description                                                      |
|----------------|-------------|-------------------------------------------|------------------------------------------------------------------|
| `id`           | Integer     | Primary Key, Auto-increment               | Unique identifier for each saved plan.                          |
| `user_id`      | Integer     | Foreign Key → `User.id`, Not Null         | References the user who owns this workout plan.                 |
| `plan_text`    | Text        | Not Null                                  | Full workout plan as generated by Fit Bot (structured text).     |
| `created_at`   | DateTime    | Default = UTC now                         | When the plan was first created.                                |
| `updated_at`   | DateTime    | Default = UTC now, on update = UTC now    | When the plan was last edited or re-saved.                      |

---

## Relationships

- **User → WorkoutLog**  
  - **1-to-many**: A single `User` can have multiple `WorkoutLog` entries.
- **User → WorkoutPlan**  
  - **1-to-1** (optional): A `User` may have one saved `WorkoutPlan` (or none).

---

## Conversion & Usage Notes

- **Height & Weight**  
  - **UI**:  
    - Height entered as feet & inches → converted to meters for storage (`User.height`).  
    - Weight entered as pounds → converted to kilograms for storage (`User.weight`).  
  - **Calculations**:  
    - BMI, TDEE, and charts use the metric values stored in the database.

- **Timestamps**  
  - `WorkoutLog.date` drives progress-tracking graphs by date.  
  - `WorkoutPlan.created_at` / `updated_at` let you version plans over time.

---

